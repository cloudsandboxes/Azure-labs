{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
  "parameters": {
    "sqlDBName": {
      "type": "string",
      "defaultValue": "SampleDB",
      "metadata": {
        "description": "The name of the SQL Database."
      }
    },
    "administratorLogin": {
      "type": "string",
      "metadata": {
        "description": "The administrator username of the SQL logical server."
      }
    },
    "administratorLoginPassword": {
      "type": "secureString",
      "metadata": {
        "description": "The administrator password of the SQL logical server."
      }
    }
  },
  "variables": {
	  "serverName": "[uniqueString('sql', resourceGroup().id)]",
	  "sqlDBName1": "elasticpool",
	  "sqlDBName2": "sqldatabase",
	  "sqlpool": "sqldatabase",
		"details" : "ðŸŽ“ In Azure a SQL server with two databases is present. The costs are higher than budgeted while the performance is lower, could you configure the Azure architecture to optimize costs and performance? ____________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________  ðŸš© You are not allowed to delete any resources. ____________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ âœ… Check your solution by deploying the solution template from our GitHub page. You will be rewarded with points in case you solved it correctly. Else a hint will be displayed for you in the error message" 
	},
  "resources": [
	    	                	  {
      "type": "Microsoft.Web/customApis",
      "apiVersion": "2016-06-01",
      "name": ".Click_here_to_read_the_assignment",
      "location": "[resourceGroup().location]",
      "tags": {},
      "properties": {
        "description": "[variables('details')]",
	"displayName": "logicappplayname",
	"iconUri": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAQHSURBVFhH7ZfNa9RAGIfzZ3jRixeLSKFe/BfEDyqtaLX1W29CRUGx1mrBg1IFQQ8KgqB4EDz0YgWtl968FATxJh4Fd5PsJvuRZHdff7Pv7JLdTDKT7haK9CEsSzKZ95l33pkkFm0xtoV0/C9CzWazXq9XKpVyuVwqlVzXxa/nedVqNQzDVqsl2+UnnxAi1Wo1hLfbOCr4EkRhJm/LQw4hjJ6DcWBopcEN0BL/gyCQ95thJISxcgD8ckhD0L5YLGI2zSdRL4RCKRQKeVXisJbhDGqEUKec+cHBqEycsoSGaMPAKYoi2XsKqUJYTcO1YTB32DJkDBVqoUajgdHIPoYKLw4ZRoVaCLcB2cewgRB2EBkpgUIIW/BmTFYXDBUTl7YRKITypcdxyyUnqOTen7CbyHi99AthYzVPD7QrnlP2nJeffaIcSYVQWpL6hfAMMk+PX3aiwN5xtWkdpNnXNaKieMyagWErnyr9QmhnJOS4XsmhZnHXtaY1Q9YVsibo9juUKvJkNB5EweBl1Bg9Qti1DOcLdYN87Jzt2PAxQYvv204mI2ojA8foEcJmiEbyjnREbsjefaNhTcds+DhGDz6YOmHwyTLqEULla4XaubHH5iPrdMKGj3F69tGnlt4JQsmnW4+QvqIdl6hw4F5kTSU84sc4vfoinLI7U9Z1jxBeXDKEcAV1MzLXsE4kDJLHYXqx6rfqWU4QwiYsY3cwzRDO1nxn+Zs387A+cqthXewEPk/Cj4/LnZNnaXIpmFis2yWnlD5zeiG8b2RlyHWrnlhc0y/rCCkCX6DR+ejRSuX+cmVpxReW7DRJ67+wpO3MjBtMme/72TWEi9S0J58HUugsnXyGHm2qC1GRrUvt88dp7YeHjGZ2JoSSr0c9QtrHalJo4mmAM7hEgW2d6xfiu9JALM2y126M/ULnEkI8ZQZCnD0ZOEaPEIBQVhm1hQ49CcSyh9MUHXkcEzpF1hlhaR2l1e96IZSsjBqjX0hT144bVp23a/6em9H+hXDvXHT9TY1C0b5Rs0fvhGN3o7GFaN9c+Oev2EL5LiVp3yH9QmiknbWgKjZreYRip+HI2Am75/F4SR+XSA+QITsEDfpdSAiB7O0RCIPYIU+mnFeC/pNvsV9/0qd1lZA2SQMCG/Qvg8XgBacQAtokDQJs8FohIyVQC2F72LzPIPzKMCrUQgATN3SntMmKkyoEkFgsTtnZwMBG+9kKsoQA1sJQnNgGH8Sy33Q0QgAPZPQ1SI1jmnC7NjeMXgigxrHuNqDFiUn7JlRiJMQgVYjBw2U4ah98Cc2ggjc+w8R0ySHEQItfmxAyLgf4DIAWspJXhckt1AUVivcnVD1iM1iV0N2YR5eNC20S20I6tpgQ0T9aMGVDfDT/AQAAAABJRU5ErkJggg==",
        "backendService": {
          "serviceurl": "http://cloudsandboxes.nl"
        }
      }
    },            
    {
      "type": "Microsoft.Sql/servers",
      "apiVersion": "2021-05-01-preview",
      "name": "[variables('serverName')]",
      "location": "[resourceGroup().location]",
      "properties": {
        "administratorLogin": "[parameters('administratorLogin')]",
        "administratorLoginPassword": "[parameters('administratorLoginPassword')]"
      }
    },
    {
      "type": "Microsoft.Sql/servers/databases",
      "apiVersion": "2021-05-01-preview",
      "name": "[format('{0}/{1}', variables('serverName'), variables('sqlDBName1'))]",
      "location": "[resourceGroup().location]",
      "sku": {
        "name": "Basic",
        "tier": "Basic",
		"capacity": 5
      },
      "dependsOn": [
        "[resourceId('Microsoft.Sql/servers', variables('serverName'))]"
      ]
    },
	    {
      "type": "Microsoft.Sql/servers/databases",
      "apiVersion": "2021-05-01-preview",
      "name": "[format('{0}/{1}', variables('serverName'), variables('sqlDBName2'))]",
      "location": "[resourcegroup().location]",
      "sku": {
        "name": "Basic",
        "tier": "Basic",
		"capacity": 5
      },
      "dependsOn": [
        "[resourceId('Microsoft.Sql/servers', variables('serverName'))]"
      ]
    },
	{
  "type": "Microsoft.Sql/servers/elasticPools",
  "apiVersion": "2021-08-01-preview",
  "name": "[format('{0}/{1}', variables('serverName'), variables('sqlpool'))]",
  "location": "[resourceGroup().location]",
  "sku": {
    "capacity": "50",
    "name": "BasicPool",
    "tier": "Basic"
  },
  "properties": {
    "maxSizeBytes": 5242880000,
    "perDatabaseSettings": {
      "maxCapacity": 5,
      "minCapacity": 0
    },
    "zoneRedundant": false
  },
     "dependsOn": [
        "[resourceId('Microsoft.Sql/servers', variables('serverName'))]"
      ]
}
  ]
}
